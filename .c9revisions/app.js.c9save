{"ts":1359981235966,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*\n\tRequire the basic stuff like the express framework\n*/\nvar app    \t= require('express').createServer(),\n    io\t \t= require('socket.io').listen(app),\n    swig   \t= require('swig')\n    views  \t= require('./routes/views.js'),\n    scripts = require('./routes/scripts.js'),\n    styles  = require('./routes/styles.js'),\n    events  = require('./config/events.js'),\n    charts  = require('./config/charts.js');\n\n/* \n\tListen to the fifty-one-fifty-one port!\n*/\nvar port = process.env.PORT || 5151;\napp.listen(port);\nconsole.log(\"App started on port\", port);\n\n/* \n\tThese are the routes, they control what is sent to the user\n*/\napp.get(\"/\", \t\t\t\t\t\t    views.mainview);\napp.get(\"/artist/:id\",                  views.mainview);\napp.get(\"/charts\",                      views.mainview);\napp.get(\"/album/:id\",                   views.mainview);\napp.get(\"/about\",                       views.mainview);\napp.get(\"/api/script/:scriptname\", \t\tscripts.get);\napp.get(\"/api/styles/:filename\", \t\tstyles.get)\napp.get(\"/api/artist/:id\", \t\t\t    views.drawartist);\napp.get(\"/api/charts\",                  views.charts);\napp.get(\"/api/album/:album\", \t\t\tviews.drawalbum);\napp.get(\"/api/i/:filename\",             styles.images.get);\napp.get(\"/api/error/:code\",             views.error);\napp.get(\"/api/about\",                   views.about);\n/*\n\tConfigure Websockets. Through websockets, users can receive live updates and submit to the database.\n*/\nio.set('log level', 1);\nio.set('transports', ['xhr-polling']);\nio.sockets.on('connection', events['connection']);\n/*\n    Fetch iTunes feeds every 24 hours\n*/\ncharts.update();"]],"start1":0,"start2":0,"length1":0,"length2":1596}]],"length":1596}
{"contributors":[],"silentsave":false,"ts":1359981618758,"patch":[[{"diffs":[[0," app    "],[-1,"\t"],[1," "],[0,"= requir"]],"start1":61,"start2":61,"length1":17,"length2":17},{"diffs":[[0,"  io"],[-1,"\t \t"],[1,"      "],[0,"= re"]],"start1":109,"start2":109,"length1":11,"length2":14},{"diffs":[[0,"p),\n"],[-1,"    swig   \t= require('swig')\n"],[0,"    "]],"start1":151,"start2":151,"length1":38,"length2":8},{"diffs":[[0," views  "],[-1,"\t"],[1," "],[0,"= requir"]],"start1":158,"start2":158,"length1":17,"length2":17},{"diffs":[[0,"/\", "],[-1,"\t\t\t\t\t\t"],[1,"                       "],[0,"    "]],"start1":604,"start2":604,"length1":14,"length2":31},{"diffs":[[0,"tname\", "],[-1,"\t\t"],[1,"     "],[0,"scripts."]],"start1":907,"start2":907,"length1":18,"length2":21},{"diffs":[[0,"ename\", "],[-1,"\t\t"],[1,"       "],[0,"styles.g"]],"start1":959,"start2":959,"length1":18,"length2":23},{"diffs":[[0,"les.get)"],[1,";"],[0,"\napp.get"]],"start1":977,"start2":977,"length1":16,"length2":17},{"diffs":[[0,"t/:id\", "],[-1,"\t\t\t"],[1,"         "],[0,"    view"]],"start1":1006,"start2":1006,"length1":19,"length2":25},{"diffs":[[0,"m\", "],[-1,"\t\t\t"],[1,"           "],[0,"view"]],"start1":1126,"start2":1126,"length1":11,"length2":19}]],"length":1609,"saved":false}
{"ts":1359982157570,"patch":[[{"diffs":[[0,"s');\n\n/*"],[-1," "],[0,"\n\tListen"]],"start1":375,"start2":375,"length1":17,"length2":16},{"diffs":[[0,"rt);\n\n/*"],[-1," "],[0,"\n\tThese "]],"start1":520,"start2":520,"length1":17,"length2":16},{"diffs":[[0,", events"],[-1,"['"],[1,"."],[0,"connecti"]],"start1":1522,"start2":1522,"length1":18,"length2":17},{"diffs":[[0,"nnection"],[-1,"']"],[0,");\n/*\n  "]],"start1":1533,"start2":1533,"length1":18,"length2":16}]],"length":1604,"saved":false}
{"contributors":[],"silentsave":false,"ts":1359984809447,"patch":[[{"diffs":[[0,"get("],[-1,"\"/\""],[1,"'/'"],[0,",   "]],"start1":597,"start2":597,"length1":11,"length2":11},{"diffs":[[0,"app.get("],[-1,"\""],[1,"'"],[0,"/artist/"]],"start1":650,"start2":650,"length1":17,"length2":17},{"diffs":[[0,"get('/artist/:id"],[-1,"\""],[1,"'"],[0,",               "]],"start1":654,"start2":654,"length1":33,"length2":33},{"diffs":[[0,"get("],[-1,"\""],[1,"'"],[0,"/charts"],[-1,"\""],[1,"'"],[0,",   "]],"start1":711,"start2":711,"length1":17,"length2":17},{"diffs":[[0,"app.get("],[-1,"\""],[1,"'"],[0,"/album/:"]],"start1":764,"start2":764,"length1":17,"length2":17},{"diffs":[[0,"('/album/:id"],[-1,"\""],[1,"'"],[0,",           "]],"start1":771,"start2":771,"length1":25,"length2":25},{"diffs":[[0,"get("],[-1,"\""],[1,"'"],[0,"/about"],[-1,"\""],[1,"'"],[0,",   "]],"start1":825,"start2":825,"length1":16,"length2":16},{"diffs":[[0,"w);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/script/"]],"start1":874,"start2":874,"length1":25,"length2":25},{"diffs":[[0,"/:scriptname"],[-1,"\""],[1,"'"],[0,",      scrip"]],"start1":898,"start2":898,"length1":25,"length2":25},{"diffs":[[0,"t);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/styles/"]],"start1":928,"start2":928,"length1":25,"length2":25},{"diffs":[[0,"styles/:filename"],[-1,"\""],[1,"'"],[0,",        styles."]],"start1":946,"start2":946,"length1":33,"length2":33},{"diffs":[[0,"t);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/artist/"]],"start1":981,"start2":981,"length1":25,"length2":25},{"diffs":[[0,"tist/:id"],[-1,"\""],[1,"'"],[0,",       "]],"start1":1001,"start2":1001,"length1":17,"length2":17},{"diffs":[[0,"t);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/charts\""]],"start1":1040,"start2":1040,"length1":25,"length2":25},{"diffs":[[0,"i/charts"],[-1,"\""],[1,"'"],[0,",       "]],"start1":1056,"start2":1056,"length1":17,"length2":17},{"diffs":[[0,"s);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/album/:"]],"start1":1095,"start2":1095,"length1":25,"length2":25},{"diffs":[[0,"m/:album"],[-1,"\""],[1,"'"],[0,",       "]],"start1":1117,"start2":1117,"length1":17,"length2":17},{"diffs":[[0,"m);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/i/:file"]],"start1":1153,"start2":1153,"length1":25,"length2":25},{"diffs":[[0,"filename"],[-1,"\""],[1,"'"],[0,",       "]],"start1":1174,"start2":1174,"length1":17,"length2":17},{"diffs":[[0,"t);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/error/:"]],"start1":1213,"start2":1213,"length1":25,"length2":25},{"diffs":[[0,"or/:code"],[-1,"\""],[1,"'"],[0,",       "]],"start1":1234,"start2":1234,"length1":17,"length2":17},{"diffs":[[0,"app.get("],[-1,"\""],[1,"'"],[0,"/api/abo"]],"start1":1271,"start2":1271,"length1":17,"length2":17},{"diffs":[[0,"pi/about"],[-1,"\""],[1,"'"],[0,",       "]],"start1":1282,"start2":1282,"length1":17,"length2":17},{"diffs":[[0,"about);\n"],[1,"app.get('/api/track/:id',               views.drawtrack);\n"],[0,"/*\n\tConf"]],"start1":1317,"start2":1317,"length1":16,"length2":74}]],"length":1662,"saved":false}
{"contributors":[],"silentsave":false,"ts":1359985633436,"patch":[[{"diffs":[[0,"            "],[-1,"views.mainview"],[1,"function(req, response) {\n        response.end(\"hi\")    \n    }"],[0,");\napp.get('"]],"start1":621,"start2":621,"length1":38,"length2":86}]],"length":1710,"saved":false}
{"ts":1359985667098,"patch":[[{"diffs":[[0,"    "],[-1,"function(req, response) {\n        response.end(\"hi\")    \n    }"],[1,"views.mainview"],[0,");\na"]],"start1":629,"start2":629,"length1":70,"length2":22}]],"length":1662,"saved":false}
{"contributors":[],"silentsave":false,"ts":1359998528625,"patch":[[{"diffs":[[0,"iews.mainview);\n"],[1,"app.get('/track/:id',                   views.mainview);\n"],[0,"app.get('/api/sc"]],"start1":862,"start2":862,"length1":32,"length2":89}]],"length":1719,"saved":false}
