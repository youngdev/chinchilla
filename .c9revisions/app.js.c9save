{"ts":1359981235966,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*\n\tRequire the basic stuff like the express framework\n*/\nvar app    \t= require('express').createServer(),\n    io\t \t= require('socket.io').listen(app),\n    swig   \t= require('swig')\n    views  \t= require('./routes/views.js'),\n    scripts = require('./routes/scripts.js'),\n    styles  = require('./routes/styles.js'),\n    events  = require('./config/events.js'),\n    charts  = require('./config/charts.js');\n\n/* \n\tListen to the fifty-one-fifty-one port!\n*/\nvar port = process.env.PORT || 5151;\napp.listen(port);\nconsole.log(\"App started on port\", port);\n\n/* \n\tThese are the routes, they control what is sent to the user\n*/\napp.get(\"/\", \t\t\t\t\t\t    views.mainview);\napp.get(\"/artist/:id\",                  views.mainview);\napp.get(\"/charts\",                      views.mainview);\napp.get(\"/album/:id\",                   views.mainview);\napp.get(\"/about\",                       views.mainview);\napp.get(\"/api/script/:scriptname\", \t\tscripts.get);\napp.get(\"/api/styles/:filename\", \t\tstyles.get)\napp.get(\"/api/artist/:id\", \t\t\t    views.drawartist);\napp.get(\"/api/charts\",                  views.charts);\napp.get(\"/api/album/:album\", \t\t\tviews.drawalbum);\napp.get(\"/api/i/:filename\",             styles.images.get);\napp.get(\"/api/error/:code\",             views.error);\napp.get(\"/api/about\",                   views.about);\n/*\n\tConfigure Websockets. Through websockets, users can receive live updates and submit to the database.\n*/\nio.set('log level', 1);\nio.set('transports', ['xhr-polling']);\nio.sockets.on('connection', events['connection']);\n/*\n    Fetch iTunes feeds every 24 hours\n*/\ncharts.update();"]],"start1":0,"start2":0,"length1":0,"length2":1596}]],"length":1596}
{"contributors":[],"silentsave":false,"ts":1359981618758,"patch":[[{"diffs":[[0," app    "],[-1,"\t"],[1," "],[0,"= requir"]],"start1":61,"start2":61,"length1":17,"length2":17},{"diffs":[[0,"  io"],[-1,"\t \t"],[1,"      "],[0,"= re"]],"start1":109,"start2":109,"length1":11,"length2":14},{"diffs":[[0,"p),\n"],[-1,"    swig   \t= require('swig')\n"],[0,"    "]],"start1":151,"start2":151,"length1":38,"length2":8},{"diffs":[[0," views  "],[-1,"\t"],[1," "],[0,"= requir"]],"start1":158,"start2":158,"length1":17,"length2":17},{"diffs":[[0,"/\", "],[-1,"\t\t\t\t\t\t"],[1,"                       "],[0,"    "]],"start1":604,"start2":604,"length1":14,"length2":31},{"diffs":[[0,"tname\", "],[-1,"\t\t"],[1,"     "],[0,"scripts."]],"start1":907,"start2":907,"length1":18,"length2":21},{"diffs":[[0,"ename\", "],[-1,"\t\t"],[1,"       "],[0,"styles.g"]],"start1":959,"start2":959,"length1":18,"length2":23},{"diffs":[[0,"les.get)"],[1,";"],[0,"\napp.get"]],"start1":977,"start2":977,"length1":16,"length2":17},{"diffs":[[0,"t/:id\", "],[-1,"\t\t\t"],[1,"         "],[0,"    view"]],"start1":1006,"start2":1006,"length1":19,"length2":25},{"diffs":[[0,"m\", "],[-1,"\t\t\t"],[1,"           "],[0,"view"]],"start1":1126,"start2":1126,"length1":11,"length2":19}]],"length":1609,"saved":false}
{"ts":1359982157570,"patch":[[{"diffs":[[0,"s');\n\n/*"],[-1," "],[0,"\n\tListen"]],"start1":375,"start2":375,"length1":17,"length2":16},{"diffs":[[0,"rt);\n\n/*"],[-1," "],[0,"\n\tThese "]],"start1":520,"start2":520,"length1":17,"length2":16},{"diffs":[[0,", events"],[-1,"['"],[1,"."],[0,"connecti"]],"start1":1522,"start2":1522,"length1":18,"length2":17},{"diffs":[[0,"nnection"],[-1,"']"],[0,");\n/*\n  "]],"start1":1533,"start2":1533,"length1":18,"length2":16}]],"length":1604,"saved":false}
{"contributors":[],"silentsave":false,"ts":1359984809447,"patch":[[{"diffs":[[0,"get("],[-1,"\"/\""],[1,"'/'"],[0,",   "]],"start1":597,"start2":597,"length1":11,"length2":11},{"diffs":[[0,"app.get("],[-1,"\""],[1,"'"],[0,"/artist/"]],"start1":650,"start2":650,"length1":17,"length2":17},{"diffs":[[0,"get('/artist/:id"],[-1,"\""],[1,"'"],[0,",               "]],"start1":654,"start2":654,"length1":33,"length2":33},{"diffs":[[0,"get("],[-1,"\""],[1,"'"],[0,"/charts"],[-1,"\""],[1,"'"],[0,",   "]],"start1":711,"start2":711,"length1":17,"length2":17},{"diffs":[[0,"app.get("],[-1,"\""],[1,"'"],[0,"/album/:"]],"start1":764,"start2":764,"length1":17,"length2":17},{"diffs":[[0,"('/album/:id"],[-1,"\""],[1,"'"],[0,",           "]],"start1":771,"start2":771,"length1":25,"length2":25},{"diffs":[[0,"get("],[-1,"\""],[1,"'"],[0,"/about"],[-1,"\""],[1,"'"],[0,",   "]],"start1":825,"start2":825,"length1":16,"length2":16},{"diffs":[[0,"w);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/script/"]],"start1":874,"start2":874,"length1":25,"length2":25},{"diffs":[[0,"/:scriptname"],[-1,"\""],[1,"'"],[0,",      scrip"]],"start1":898,"start2":898,"length1":25,"length2":25},{"diffs":[[0,"t);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/styles/"]],"start1":928,"start2":928,"length1":25,"length2":25},{"diffs":[[0,"styles/:filename"],[-1,"\""],[1,"'"],[0,",        styles."]],"start1":946,"start2":946,"length1":33,"length2":33},{"diffs":[[0,"t);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/artist/"]],"start1":981,"start2":981,"length1":25,"length2":25},{"diffs":[[0,"tist/:id"],[-1,"\""],[1,"'"],[0,",       "]],"start1":1001,"start2":1001,"length1":17,"length2":17},{"diffs":[[0,"t);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/charts\""]],"start1":1040,"start2":1040,"length1":25,"length2":25},{"diffs":[[0,"i/charts"],[-1,"\""],[1,"'"],[0,",       "]],"start1":1056,"start2":1056,"length1":17,"length2":17},{"diffs":[[0,"s);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/album/:"]],"start1":1095,"start2":1095,"length1":25,"length2":25},{"diffs":[[0,"m/:album"],[-1,"\""],[1,"'"],[0,",       "]],"start1":1117,"start2":1117,"length1":17,"length2":17},{"diffs":[[0,"m);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/i/:file"]],"start1":1153,"start2":1153,"length1":25,"length2":25},{"diffs":[[0,"filename"],[-1,"\""],[1,"'"],[0,",       "]],"start1":1174,"start2":1174,"length1":17,"length2":17},{"diffs":[[0,"t);\napp.get("],[-1,"\""],[1,"'"],[0,"/api/error/:"]],"start1":1213,"start2":1213,"length1":25,"length2":25},{"diffs":[[0,"or/:code"],[-1,"\""],[1,"'"],[0,",       "]],"start1":1234,"start2":1234,"length1":17,"length2":17},{"diffs":[[0,"app.get("],[-1,"\""],[1,"'"],[0,"/api/abo"]],"start1":1271,"start2":1271,"length1":17,"length2":17},{"diffs":[[0,"pi/about"],[-1,"\""],[1,"'"],[0,",       "]],"start1":1282,"start2":1282,"length1":17,"length2":17},{"diffs":[[0,"about);\n"],[1,"app.get('/api/track/:id',               views.drawtrack);\n"],[0,"/*\n\tConf"]],"start1":1317,"start2":1317,"length1":16,"length2":74}]],"length":1662,"saved":false}
{"contributors":[],"silentsave":false,"ts":1359985633436,"patch":[[{"diffs":[[0,"            "],[-1,"views.mainview"],[1,"function(req, response) {\n        response.end(\"hi\")    \n    }"],[0,");\napp.get('"]],"start1":621,"start2":621,"length1":38,"length2":86}]],"length":1710,"saved":false}
{"ts":1359985667098,"patch":[[{"diffs":[[0,"    "],[-1,"function(req, response) {\n        response.end(\"hi\")    \n    }"],[1,"views.mainview"],[0,");\na"]],"start1":629,"start2":629,"length1":70,"length2":22}]],"length":1662,"saved":false}
{"contributors":[],"silentsave":false,"ts":1359998528625,"patch":[[{"diffs":[[0,"iews.mainview);\n"],[1,"app.get('/track/:id',                   views.mainview);\n"],[0,"app.get('/api/sc"]],"start1":862,"start2":862,"length1":32,"length2":89}]],"length":1719,"saved":false}
{"contributors":["jonathanburger11@gmail.com"],"silentsave":false,"ts":1360007251520,"patch":[[{"diffs":[[0,"ramework\n*/\n"],[1,"\n"],[0,"var app     "]],"start1":46,"start2":46,"length1":24,"length2":25},{"diffs":[[0,"ort!\n*/\n"],[1,"\n"],[0,"var port"]],"start1":421,"start2":421,"length1":16,"length2":17},{"diffs":[[0,"user\n*/\n"],[1,"\n"],[0,"app.get("]],"start1":587,"start2":587,"length1":16,"length2":17},{"diffs":[[0,"track);\n"],[1,"\n"],[0,"/*\n\tConf"]],"start1":1435,"start2":1435,"length1":16,"length2":17},{"diffs":[[0,"ase.\n*/\n"],[1,"\n"],[0,"io.set('"]],"start1":1544,"start2":1544,"length1":16,"length2":17},{"diffs":[[0,"ction);\n"],[1,"\n"],[0,"/*\n    F"]],"start1":1656,"start2":1656,"length1":16,"length2":17},{"diffs":[[0,"4 hours\n"],[-1,""],[0,"*/\n"],[1,"\n"],[0,"charts.u"]],"start1":1698,"start2":1698,"length1":19,"length2":20}]],"length":1726,"saved":false}
{"contributors":[],"silentsave":false,"ts":1360077753954,"patch":[[{"diffs":[[0,"iews.mainview);\n"],[1,"app.get('/register',                    views.mainview);\n"],[0,"app.get('/api/sc"]],"start1":922,"start2":922,"length1":32,"length2":89},{"diffs":[[0,"wtrack);"],[1,"\napp.get('/api/register',                views.register);"],[0,"\n\n/*\n\tCo"]],"start1":1491,"start2":1491,"length1":16,"length2":73},{"diffs":[[0,"pdate();"],[1,"\n"]],"start1":1832,"start2":1832,"length1":8,"length2":9}]],"length":1841,"saved":false}
{"ts":1360078349892,"patch":[[{"diffs":[[0,"'/api/regist"],[-1,"e"],[0,"r"],[1,"ation"],[0,"',          "]],"start1":1508,"start2":1508,"length1":26,"length2":30}]],"length":1845,"saved":false}
{"ts":1360078389446,"patch":[[{"diffs":[[0,"            "],[-1,"    "],[0,"views.regist"]],"start1":1528,"start2":1528,"length1":28,"length2":24}]],"length":1841,"saved":false}
{"ts":1360078444552,"patch":[[{"diffs":[[0,"  views.mainview"],[1,"      "],[0,");\napp.get('/art"]],"start1":634,"start2":634,"length1":32,"length2":38},{"diffs":[[0,"  views.mainview"],[1,"      "],[0,");\napp.get('/cha"]],"start1":697,"start2":697,"length1":32,"length2":38},{"diffs":[[0,"  views.mainview"],[1,"      "],[0,");\napp.get('/alb"]],"start1":760,"start2":760,"length1":32,"length2":38},{"diffs":[[0,"  views.mainview"],[1,"      "],[0,");\napp.get('/abo"]],"start1":823,"start2":823,"length1":32,"length2":38},{"diffs":[[0,"  views.mainview"],[1,"      "],[0,");\napp.get('/tra"]],"start1":886,"start2":886,"length1":32,"length2":38},{"diffs":[[0,"  views.mainview"],[1,"      "],[0,");\napp.get('/reg"]],"start1":949,"start2":949,"length1":32,"length2":38},{"diffs":[[0,"mainview"],[1,"      "],[0,");\napp.g"]],"start1":1020,"start2":1020,"length1":16,"length2":22},{"diffs":[[0," scripts.get"],[1,"         "],[0,");\napp.get('"]],"start1":1076,"start2":1076,"length1":24,"length2":33},{"diffs":[[0,"  styles.get"],[1,"          "],[0,");\napp.get('"]],"start1":1138,"start2":1138,"length1":24,"length2":34},{"diffs":[[0,"awartist"],[1,"    "],[0,");\napp.g"]],"start1":1211,"start2":1211,"length1":16,"length2":20},{"diffs":[[0,"s.charts"],[1,"        "],[0,");\napp.g"]],"start1":1270,"start2":1270,"length1":16,"length2":24},{"diffs":[[0,"rawalbum"],[1,"     "],[0,");\napp.g"]],"start1":1336,"start2":1336,"length1":16,"length2":21},{"diffs":[[0,"ages.get"],[1,"   "],[0,");\napp.g"]],"start1":1401,"start2":1401,"length1":16,"length2":19},{"diffs":[[0,"ws.error"],[1,"         "],[0,");\napp.g"]],"start1":1458,"start2":1458,"length1":16,"length2":25},{"diffs":[[0,"ws.about"],[1,"         "],[0,");\napp.g"]],"start1":1521,"start2":1521,"length1":16,"length2":25},{"diffs":[[0,"rawtrack"],[1,"     "],[0,");\napp.g"]],"start1":1588,"start2":1588,"length1":16,"length2":21},{"diffs":[[0,"s.regist"],[-1,"e"],[0,"r"],[1,"ation  "],[0,");\n\n/*\n\t"]],"start1":1648,"start2":1648,"length1":18,"length2":24}]],"length":1951,"saved":false}
{"contributors":[],"silentsave":false,"ts":1360079278815,"patch":[[{"diffs":[[0,"ainview      );\n"],[1,"app.get('/new-user',                    views.mainview      );\n"],[0,"app.get('/api/sc"]],"start1":1021,"start2":1021,"length1":32,"length2":95},{"diffs":[[0,"tion  );"],[1,"\napp.post('/api/new-user',                views.newuser       );"],[0,"\n\n/*\n\tCo"]],"start1":1721,"start2":1721,"length1":16,"length2":80}]],"length":2078,"saved":false}
{"ts":1360079328129,"patch":[[{"diffs":[[0,"     );\napp."],[-1,"ge"],[1,"pos"],[0,"t('/new-user"]],"start1":1029,"start2":1029,"length1":26,"length2":27},{"diffs":[[0,"ion  );\napp."],[-1,"pos"],[1,"ge"],[0,"t('/api/new-"]],"start1":1723,"start2":1723,"length1":27,"length2":26}]],"length":2078,"saved":false}
{"ts":1360079403999,"patch":[[{"diffs":[[0,"                "],[-1," "],[0,"views.mainview  "]],"start1":1061,"start2":1061,"length1":33,"length2":32}]],"length":2077,"saved":false}
{"ts":1360079565474,"patch":[[{"diffs":[[0,"app."],[-1,"pos"],[1,"ge"],[0,"t('/"]],"start1":1037,"start2":1037,"length1":11,"length2":10},{"diffs":[[0,"get('/new-user',"],[1," "],[0,"                "]],"start1":1041,"start2":1041,"length1":32,"length2":33},{"diffs":[[0,"ainview      );\n"],[1,"/*\n    Backedn routes\n*/\n"],[0,"app.get('/api/sc"]],"start1":1084,"start2":1084,"length1":32,"length2":57},{"diffs":[[0,"tration  );\napp."],[-1,"ge"],[1,"pos"],[0,"t('/api/new-user"]],"start1":1743,"start2":1743,"length1":34,"length2":35}]],"length":2103,"saved":false}
{"ts":1360080073093,"patch":[[{"diffs":[[0,"            "],[-1," "],[0,"views.newuse"]],"start1":1783,"start2":1783,"length1":25,"length2":24}]],"length":2102,"saved":false}
{"contributors":[],"silentsave":false,"ts":1360080097786,"patch":[[{"diffs":[[0,"     );\napp."],[-1,"ge"],[1,"pos"],[0,"t('/new-user"]],"start1":1029,"start2":1029,"length1":26,"length2":27}]],"length":2103,"saved":false}
{"ts":1360080157988,"patch":[[{"diffs":[[0,"            "],[-1," "],[0,"views."],[-1,"mainview"],[1,"newuser "],[0,"      );\n/*\n"]],"start1":1065,"start2":1065,"length1":39,"length2":38},{"diffs":[[0,"  );"],[-1,"\napp.post('/api/new-user',               views.newuser       );"],[0,"\n\n/*"]],"start1":1750,"start2":1750,"length1":71,"length2":8}]],"length":2039,"saved":false}
{"ts":1360082382430,"patch":[[{"diffs":[[0,"es/views"],[-1,".js"],[0,"'),\n    "]],"start1":185,"start2":185,"length1":19,"length2":16},{"diffs":[[0,"/scripts"],[-1,".js"],[0,"'),\n    "]],"start1":228,"start2":228,"length1":19,"length2":16},{"diffs":[[0,"s/styles"],[-1,".js"],[0,"'),\n    "]],"start1":270,"start2":270,"length1":19,"length2":16},{"diffs":[[0,"g/events"],[-1,".js"],[0,"'),\n    "]],"start1":312,"start2":312,"length1":19,"length2":16},{"diffs":[[0,"arts"],[-1,".js"],[1,"'),\n    fauth   = require('./config/fauthentication"],[0,"')"],[-1,";"],[0,"\n\n/*"]],"start1":358,"start2":358,"length1":14,"length2":61},{"diffs":[[0," );\n"],[-1,"app.post('/new-user',                   views.newuser       );\n"],[0,"/*\n "]],"start1":1068,"start2":1068,"length1":71,"length2":8},{"diffs":[[0,"rawtrack     );\n"],[-1,""],[0,"app.get('/api/re"]],"start1":1648,"start2":1648,"length1":32,"length2":32},{"diffs":[[0,"tion  );"],[1,"\n/*\n    Authentication routes\n*/\napp.get('/facebook/authenticate',       fauth.auth          );\napp.get('/facebook/token',              fauth.getAccessToken);"],[0,"\n\n/*\n\tCo"]],"start1":1718,"start2":1718,"length1":16,"length2":174}]],"length":2169,"saved":false}
{"ts":1360082401104,"patch":[[{"diffs":[[0,"onfig/fa"],[-1,"uthentication"],[1,"cebook"],[0,"')\n\n/*\n\t"]],"start1":392,"start2":392,"length1":29,"length2":22}]],"length":2162,"saved":false}
{"ts":1360082440229,"patch":[[{"diffs":[[0,"cebook')"],[1,";"],[0,"\n\n/*\n\tLi"]],"start1":400,"start2":400,"length1":16,"length2":17}]],"length":2163,"saved":false}
{"ts":1360082903105,"patch":[[{"diffs":[[0,"book');\n"],[1,"    \n/*\n    FB auth\n*/\nvar fauthentication =   require('fauthentication');\nfauthentication.settings({\n    client_id:          212482748876564,\n    client_secret:      'f2bdb7700ef2d87a8c05b32ac31c013a',\n    redirect_uri:       'http://chinchilla.jonnyburger.c9.io/facebook/token',\n    app:                app,\n    callback:           function(accessToken) {\n        console.log(\"Access token is\", accessToken);\n    }\n});"],[0,"\n/*\n\tLis"]],"start1":402,"start2":402,"length1":16,"length2":436}]],"length":2583,"saved":false}
{"ts":1360083093768,"patch":[[{"diffs":[[0,"'),\n"],[-1,"    fauth   = require('./config/facebook');\n"],[0,"    "]],"start1":362,"start2":362,"length1":52,"length2":8},{"diffs":[[0,"ar fauth"],[-1,"entication"],[0," =   req"]],"start1":390,"start2":390,"length1":26,"length2":16},{"diffs":[[0,");\nfauth"],[-1,"entication"],[0,".setting"]],"start1":428,"start2":428,"length1":26,"length2":16}]],"length":2519,"saved":false}
{"ts":1360083115320,"patch":[[{"diffs":[[0,"    "],[-1,"\n/*\n    FB auth\n*/\nvar "],[0,"fauth ="],[-1,"  "],[0," req"]],"start1":366,"start2":366,"length1":40,"length2":15},{"diffs":[[0,"tion');\n"],[1,"/*\n    FB auth\n*/\n"],[0,"fauth.se"]],"start1":398,"start2":398,"length1":16,"length2":34}]],"length":2512,"saved":false}
{"ts":1360083395712,"patch":[[{"diffs":[[0,"  fauth "],[1,"  "],[0,"= requir"]],"start1":368,"start2":368,"length1":16,"length2":18},{"diffs":[[0,"cation')"],[1,",\n    fb      = require('./config/fb')"],[0,";\n/*\n   "]],"start1":398,"start2":398,"length1":16,"length2":54}]],"length":2552,"saved":false}
{"ts":1360083413952,"patch":[[{"diffs":[[0,"   f"],[-1,"unction(accessToken) {\n        console.log(\"Access token is\", accessToken);\n    }"],[1,"b.auth"],[0,"\n});"]],"start1":710,"start2":710,"length1":89,"length2":14}]],"length":2477,"saved":false}
{"ts":1360083590495,"patch":[[{"diffs":[[0,"config/f"],[-1,"b"],[1,"acebook"],[0,"');\n/*\n "]],"start1":433,"start2":433,"length1":17,"length2":23}]],"length":2483,"saved":false}
