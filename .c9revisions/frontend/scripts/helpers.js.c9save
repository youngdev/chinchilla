{"ts":1359997999730,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"helpers = {\n\tparseyear: function(timestamp) {\n\t\treturn timestamp.substr(0,4);\n\t},\n\tlocalStorageSafety: function(key) {\n\t\tif (localStorage[key] == null || localStorage[key] == undefined || localStorage[key] == 'undefined') {\n\t\t\tlocalStorage[key] = \"[]\";\n\t\t}\n\t},\n\tgetLocalStorage: function(key) {\n\t\tthis.localStorageSafety(key);\n\t\treturn JSON.parse(localStorage[key]);\n\t},\n\taddToLocalStorage: function(key, obj, first) {\n\t\tthis.localStorageSafety(key);\n\t\tvar ls = this.getLocalStorage(key);\n\t\tif (!first) {ls.push(obj)} else {ls.unshift(obj)}\n\t\tlocalStorage[key] = JSON.stringify(ls);\n\t\treturn this.getLocalStorage(key);\n\t},\n\tclearLocalStorage: function(key) {\n\t\tlocalStorage[key] = \"[]\";\n\t\treturn this.getLocalStorage(key);\n\t},\n\tparseDOM: function(obj) {\n\t\t/*\n\t\tThis does not work well enough! jQuery's .data() sucks!\n\t\treturn (obj instanceof HTMLElement) ? $(obj).data() : obj;\n\t\t*/\n\n\t\treturn (obj instanceof HTMLElement) ? obj.dataset : obj;\n\t},\n\tparsetime: function(number) {\n\t\tvar divide = (number > 5000) ? 1000 : 1\n\t\tvar fullseconds = Math.round(number / divide), \n\t\t\tminutes = Math.floor(fullseconds/60),\n\t\t\tseconds = fullseconds-(minutes*60)\n\t\tif (seconds < 10) {\n\t\t\tseconds = \"0\" + seconds;\n\t\t}\n\t\treturn minutes+\":\"+seconds;\n\t},\n\tslugify: function(str) {\n\t\tif (str == null) return '';\n\n    \tvar from  = \"ąàáäâãåæćęèéëêìíïîłńòóöôõøśùúüûñçżź\",\n    \t    to    = \"aaaaaaaaceeeeeiiiilnoooooosuuuunczz\",\n    \t    regex = new RegExp(helpers.defaultToWhiteSpace(from), 'g');\n\n    \tstr = String(str).toLowerCase().replace(regex, function(c){\n    \t  var index = from.indexOf(c);\n    \t  return to.charAt(index) || '-';\n    \t});\n\n    \treturn _s.dasherize(str.replace(/[^\\w\\s-]/g, ''));\n\t},\n\tdefaultToWhiteSpace: function(characters) {\n\t\tif (characters == null)\n    \t  return '\\\\s';\n    \telse if (characters.source)\n    \t  return characters.source;\n    \telse\n    \t  return '[' + helpers.escapeRegExp(characters) + ']';\n\t},\n\tescapeRegExp: function(str) {\n\t\t if (str == null) return '';\n      \t\treturn String(str).replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$1');\n\t}\n}\nthis.helpers = helpers;"]],"start1":0,"start2":0,"length1":0,"length2":2082}]],"length":2082}
{"contributors":[],"silentsave":false,"ts":1359998091063,"patch":[[{"diffs":[[0,"$1');\n\t}"],[1,",\n    parseYTId: function(video) {\n        return video.id.$t.substr(-11)\n    }"],[0,"\n}\nthis."]],"start1":2048,"start2":2048,"length1":16,"length2":95}]],"length":2161,"saved":false}
