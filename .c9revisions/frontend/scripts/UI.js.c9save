{"ts":1360076518994,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var select \t\t\t= function(e) \t\t{\n\t/*\n\t\tSend to other function if batch selecting.\n\t\tCtrl key selects all elements between already selected ones and the clicked.\n\t*/\n\tif (e.shiftKey) {\n\t\tshiftSelect(this);\n\t\treturn;\n\t}\n\t/*\n\t\tSend to another function if CMD key is pressed.\n\t\tCMD key selects/deselects single elements without changing selection\n\t*/\n\tif (e.ctrlKey || e.metaKey) {\n\t\tcmdSelect(this);\n\t\treturn;\n\t}\n\t/*\n\t\tDeselect all the other songs.\n\t*/\n\t$(\".song.selected\").removeClass(\"selected\")\n\t$(this).addClass(\"selected\")\n}\nwindow.playSong = function() {\n\t\t/*\n\t\t\tGet all next songs\n\t\t\tAdd them to the queue.\n\t\t*/\n\t\tvar nextSongs = $(this).nextAll(\".song\");\n\t\tplayer.queue1.clear();\n\t\tplayer.queue2.clear();\n\t\t$.each(nextSongs, function(key, song) {\n\t\t\tplayer.queue2.add(song);\n\t\t});\n\t\tplayer.playSong(this);\t\n}\nvar shiftSelect \t\t= function(obj) {\n\tvar song         = $(obj),\n\t\tclosestprev  = song.prevAll(\".selected\")[0],\n\t\tclosestnext  = song.nextAll(\".selected\")[0];\n\tif (closestprev != undefined) {\n\t\tvar prevs = song.prevUntil(closestprev, \".song\").andSelf().addClass(\"selected\");\n\t}\n\tif (closestnext != undefined) {\n\t\tvar nexts = song.nextUntil(closestnext, \".song\").andSelf().addClass(\"selected\");\n\t}\n}\nvar cmdSelect \t\t\t= function(obj) {\n\t$(obj).toggleClass(\"selected\");\n}\nvar dragSeek\t\t\t= function(obj) {\n\tplayer.automaticseekblocked = true;\n}\nvar dragSeekUp\t\t\t= function(obj) {\n\tplayer.automaticseekblocked = false;\n\tvar seek = $(\"#seekbar\").val()/100;\n\tplayer.seek(seek*ytplayer.getDuration())\n}\nvar resume\t\t\t\t= function(obj) {\n\tplayer.play();\n}\nvar pause \t\t\t\t= function(obj) {\n\tplayer.pause();\n}\nvar skip \t\t\t\t= function() {\n\tplayer.playNext();\n}\nvar rewind \t\t\t\t= function() {\n\tplayer.playLast();\n}\nvar tooltip \t\t\t= function(e) {\n\tvar original = this;\n\tvar tooltip = $(\"<div>\", {\n\t\tclass: \"tooltip\"\n\t}).css({\n\t\ttop: \t$(original).offset().top + $(original).height() + 3,\n\t\tleft: \t$(original).offset().left\n\t}).html($(original).attr(\"data-tooltip\")).appendTo(\"body\");\n\t$(original).mouseout(function() {\n\t\t$(tooltip).remove()\n\t})\n}\nvar autocomplete  \t\t= function() {\n\t/*\n\t\tTrigger search method\n\t*/\n\tvar searchfield = $(\"#search-field\"),\n\t\tvalue\t\t= searchfield.val(),\n\t\tresults     = $(\"#search-results\")\n\tsearch.autocomplete(value);\n\t/*\n\t\tHide/show suggestions\n\t*/\n\tif (value == \"\") {\n\t\tresults.hide();\n\t}\n\telse {\n\t\tresults.show();\n\t}\n}\n$(document)\n\n.on('mousedown', '.song',\t\t  \tselect  \t) //Selecting tracks\n.on('dblclick',\t '.song',\t\t  \tplaySong    ) //Doubleclick to play. Just POC yet.\n.on('mousedown', '#seekbar', \t  \tdragSeek\t) //Block autmatic seeking while dragging\n.on('mouseup',\t '#seekbar', \t  \tdragSeekUp  ) //Update and seek\n.on('click', \t '#play',\t\t  \tresume\t\t) //Play or resume song.\n.on('click',\t '#pause',\t\t  \tpause\t\t) //Pause music.\n.on('click',\t '#skip',\t\t  \tskip\t\t) //Skip track. Play next one.\n.on('click',\t '#rewind',\t\t  \trewind\t\t) //Go back to previous track.\n.on('mouseover', '[data-tooltip]',  tooltip     ) //Show small black tooltips.\n.on('keyup',\t '#search-field', \tautocomplete) //Show suggestions when user types into search."]],"start1":0,"start2":0,"length1":0,"length2":3065}]],"length":3065}
{"contributors":[],"silentsave":false,"ts":1360076979764,"patch":[[{"diffs":[[0,"var select "],[-1,"\t\t\t"],[1,"     "],[0,"= function(e"]],"start1":0,"start2":0,"length1":26,"length2":28},{"diffs":[[0,"tion(e) "],[-1,"\t\t"],[1,"  "],[0,"{\n\t/*\n\t\t"]],"start1":22,"start2":22,"length1":18,"length2":18},{"diffs":[[0,"lected\")"],[1,";"],[0,"\n\t$(this"]],"start1":487,"start2":487,"length1":16,"length2":17},{"diffs":[[0,"lected\")"],[1,";"],[0,"\n}"],[1,";"],[0,"\nwindow."]],"start1":518,"start2":518,"length1":18,"length2":20},{"diffs":[[0,"= function()"],[1,"   "],[0," {\n\t\t/*\n\t\t\tG"]],"start1":547,"start2":547,"length1":24,"length2":27},{"diffs":[[0,"his);\t\n}"],[1,";"],[0,"\nvar shi"]],"start1":812,"start2":812,"length1":16,"length2":17},{"diffs":[[0,"tSelect "],[-1,"\t\t"],[1,"        "],[0,"= functi"]],"start1":830,"start2":830,"length1":18,"length2":24},{"diffs":[[0,"tprev !="],[1,"="],[0," undefin"]],"start1":997,"start2":997,"length1":16,"length2":17},{"diffs":[[0,"{\n\t\t"],[-1,"var prevs = "],[0,"song"]],"start1":1018,"start2":1018,"length1":20,"length2":8},{"diffs":[[0,"tnext !="],[1,"="],[0," undefin"]],"start1":1105,"start2":1105,"length1":16,"length2":17},{"diffs":[[0,"{\n\t\t"],[-1,"var nexts = "],[0,"song"]],"start1":1126,"start2":1126,"length1":20,"length2":8},{"diffs":[[0,"\");\n\t}\n}"],[1,";"],[0,"\nvar cmd"]],"start1":1195,"start2":1195,"length1":16,"length2":17},{"diffs":[[0,"dSelect "],[-1,"\t\t\t"],[1,"          "],[0,"= functi"]],"start1":1211,"start2":1211,"length1":19,"length2":26},{"diffs":[[0,"elected\");\n}"],[-1,""],[0,""],[1,";"],[0,"\nvar dragSee"]],"start1":1269,"start2":1269,"length1":24,"length2":25},{"diffs":[[0," true;\n}"],[-1,""],[0,""],[1,";"],[0,"\nvar dra"]],"start1":1346,"start2":1346,"length1":16,"length2":17},{"diffs":[[0,"ation())"],[1,";"],[0,"\n}"],[1,";"],[0,"\nvar res"]],"start1":1499,"start2":1499,"length1":18,"length2":20},{"diffs":[[0,"er.play();\n}"],[1,";"],[0,"\nvar pause \t"]],"start1":1549,"start2":1549,"length1":24,"length2":25},{"diffs":[[0,"r pause "],[-1,"\t\t\t\t"],[1,"              "],[0,"= functi"]],"start1":1565,"start2":1565,"length1":20,"length2":30},{"diffs":[[0,"r.pause();\n}"],[1,";"],[0,"\nvar skip \t\t"]],"start1":1611,"start2":1611,"length1":24,"length2":25},{"diffs":[[0,"ar skip "],[-1,"\t\t\t\t"],[1,"               "],[0,"= functi"]],"start1":1626,"start2":1626,"length1":20,"length2":31},{"diffs":[[0,"layNext();\n}"],[1,";"],[0,"\nvar rewind "]],"start1":1673,"start2":1673,"length1":24,"length2":25},{"diffs":[[0," rewind "],[-1,"\t\t\t\t"],[1,"             "],[0,"= functi"]],"start1":1690,"start2":1690,"length1":20,"length2":29},{"diffs":[[0,"ast();\n}"],[1,";"],[0,"\nvar too"]],"start1":1739,"start2":1739,"length1":16,"length2":17},{"diffs":[[0,"tooltip "],[-1,"\t\t\t"],[1,"            "],[0,"= functi"]],"start1":1753,"start2":1753,"length1":19,"length2":28},{"diffs":[[0,"\n\t\ttop: "],[-1,"\t"],[1,"   "],[0,"$(origin"]],"start1":1867,"start2":1867,"length1":17,"length2":19},{"diffs":[[0,"\t\tleft: "],[-1,"\t"],[1,"  "],[0,"$(origin"]],"start1":1931,"start2":1931,"length1":17,"length2":18},{"diffs":[[0,"ve()"],[1,";"],[0,"\n\t})"],[1,";"],[0,"\n}"],[1,";\nvar playbutton          = function() {\n\tplayer.playSong(this);\n};"],[0,"\nvar"]],"start1":2080,"start2":2080,"length1":14,"length2":83},{"diffs":[[0,"mplete  "],[-1,"\t\t"],[1,"      "],[0,"= functi"]],"start1":2170,"start2":2170,"length1":18,"length2":22},{"diffs":[[0,"esults\")"],[-1,""],[0,""],[1,";"],[0,"\n\tsearch"]],"start1":2328,"start2":2328,"length1":16,"length2":17},{"diffs":[[0,"value =="],[-1,""],[0,""],[1,"="],[0," \"\") {\n\t"]],"start1":2404,"start2":2404,"length1":16,"length2":17},{"diffs":[[0,"();\n\t}\n}"],[-1,""],[0,""],[1,";"],[0,"\n$(docum"]],"start1":2463,"start2":2463,"length1":16,"length2":17},{"diffs":[[0,"cument)\n"],[-1,"\n"],[0,".on('mou"]],"start1":2477,"start2":2477,"length1":17,"length2":16},{"diffs":[[0,"sedown',"],[1,"   "],[0," '.song'"]],"start1":2493,"start2":2493,"length1":16,"length2":19},{"diffs":[[0,"ng',"],[-1,"\t\t  \t"],[1,"            "],[0,"select  "],[-1,"\t"],[1,"    "],[0,") //"]],"start1":2509,"start2":2509,"length1":22,"length2":32},{"diffs":[[0,"lclick',"],[-1,"\t"],[1,"    "],[0," '.song'"]],"start1":2565,"start2":2565,"length1":17,"length2":20},{"diffs":[[0,"'.song',"],[-1,"\t\t  \t"],[1,"            "],[0,"playSong"]],"start1":2578,"start2":2578,"length1":21,"length2":28},{"diffs":[[0,"sedown',"],[1,"   "],[0," '#seekb"]],"start1":2657,"start2":2657,"length1":16,"length2":19},{"diffs":[[0,"    '#seekbar', "],[-1,"\t  \t"],[1,"        "],[0,"dragSeek\t) //Blo"]],"start1":2665,"start2":2665,"length1":36,"length2":40},{"diffs":[[0,"n('mouseup',"],[-1,"\t"],[1,"     "],[0," '#seekbar',"]],"start1":2742,"start2":2742,"length1":25,"length2":29},{"diffs":[[0,"ekbar', "],[-1,"\t  \t"],[1,"        "],[0,"dragSeek"]],"start1":2764,"start2":2764,"length1":20,"length2":24},{"diffs":[[0,"click', "],[-1,"\t"],[1,"      "],[0," '#play'"]],"start1":2817,"start2":2817,"length1":17,"length2":22},{"diffs":[[0,"ay',"],[-1,"\t\t  \tresume\t\t"],[1,"            resume      "],[0,") //"]],"start1":2836,"start2":2836,"length1":21,"length2":32},{"diffs":[[0,"'click',"],[-1,"\t"],[1,"       "],[0," '#pause"]],"start1":2893,"start2":2893,"length1":17,"length2":23},{"diffs":[[0,"#pause',"],[-1,"\t\t"],[1,"         "],[0,"  "],[-1,"\t"],[0,"pause\t\t)"]],"start1":2910,"start2":2910,"length1":21,"length2":27},{"diffs":[[0,"'click',"],[-1,"\t"],[1,"       "],[0," '#skip'"]],"start1":2957,"start2":2957,"length1":17,"length2":23},{"diffs":[[0,"'#skip',"],[-1,"\t\t"],[1,"          "],[0,"  "],[-1,"\t"],[0,"skip\t\t) "]],"start1":2973,"start2":2973,"length1":21,"length2":28},{"diffs":[[0,"'click',"],[-1,"\t"],[1,"       "],[0," '#rewin"]],"start1":3034,"start2":3034,"length1":17,"length2":23},{"diffs":[[0,"nd',"],[-1,"\t\t  \t"],[1,"          "],[0,"rewi"]],"start1":3056,"start2":3056,"length1":13,"length2":18},{"diffs":[[0,"seover',"],[1,"   "],[0," '[data-"]],"start1":3117,"start2":3117,"length1":16,"length2":19},{"diffs":[[0,"oltip]',"],[1," "],[0,"  toolti"]],"start1":3138,"start2":3138,"length1":16,"length2":17},{"diffs":[[0,"'keyup',"],[-1,"\t"],[1,"       "],[0," '#searc"]],"start1":3196,"start2":3196,"length1":17,"length2":23},{"diffs":[[0,"field', "],[-1,"\t"],[1,"   "],[0,"autocomp"]],"start1":3221,"start2":3221,"length1":17,"length2":19},{"diffs":[[0,"into search."],[1,"\n.on('click',        '.play-button',     playbutton  ); //Play buttons are in track views for instance."]],"start1":3281,"start2":3281,"length1":12,"length2":115}]],"length":3396,"saved":false}
{"contributors":[],"silentsave":false,"ts":1360082776831,"patch":[[{"diffs":[[0,";\n\t}\n};\n"],[1,"var register            = function() {\n    window.open('/facebook/authentication?next=/', 'Facebook Login', 'width=300px, height=300');\n}\n"],[0,"$(docume"]],"start1":2465,"start2":2465,"length1":16,"length2":154},{"diffs":[[0,"utton  )"],[-1,";"],[0," //Play "]],"start1":3477,"start2":3477,"length1":17,"length2":16},{"diffs":[[0,"nstance."],[1,"\n.on('click',        '#register',        register    );"]],"start1":3525,"start2":3525,"length1":8,"length2":63}]],"length":3588,"saved":false}
{"ts":1360082953486,"patch":[[{"diffs":[[0,"henticat"],[-1,"ion"],[1,"e"],[0,"?next=/'"]],"start1":2542,"start2":2542,"length1":19,"length2":17}]],"length":3586,"saved":false}
