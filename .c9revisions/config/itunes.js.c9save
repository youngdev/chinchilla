{"ts":1359994715965,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var request = require('request')\n\nexports.search = function(query, options, callback) {\n\n  // http://www.apple.com/itunes/affiliates/resources/documentation/itunes-store-web-service-search-api.html#searching\n  // options example:\n  // options = {\n  //    media: \"movie\" // options are: podcast, music, musicVideo, audiobook, shortFilm, tvShow, software, ebook, all\n  //  , entity: \"movie\"\n  //  , attribute: \"movie\"\n  //  , limit: 50\n  //  , explicit: \"No\" // explicit material\n  // }\n\n  var optionsString = \"\";\n\n  for (item in options) {\n    optionsString += \"&\" + item + \"=\" + encodeURIComponent(options[item]);\n  }\n\n  request(\"http://itunes.apple.com/search?country=us\" + optionsString + \"&term=\" + encodeURIComponent(query), function(err, response, body) {\n    callback( JSON.parse(body) )\n  })\n\n}\nexports.lookup = function(id, options, callback) {\n  var optionsString = \"\";\n\n  for (item in options) {\n    optionsString += \"&\" + item + \"=\" + encodeURIComponent(options[item]);\n  }\n\n  request(\"http://itunes.apple.com/lookup?country=us\" + optionsString + \"&id=\" + encodeURIComponent(parseFloat(id)), function(err, response, body) {\n    callback( JSON.parse(body) )\n  })\n}"]],"start1":0,"start2":0,"length1":0,"length2":1174}]],"length":1174}
{"contributors":[],"silentsave":false,"ts":1359994784115,"patch":[[{"diffs":[[0,")\n  })\n}"],[1,"\nexports.remap = function (track) {\n   var song = {\n    \tname: track.trackName,\n\t\tduration: track.trackTimeMillis,\n\t\talbum: track.collectionName,\n\t\talbumid: track.collectionId,\n\t\tartistid: track.artistId,\n\t\tartist: track.artistName,\n\t    image: track.artworkUrl100,\n\t    id: track.trackId,\n\t\texplicit: track.trackExplicitness == \"explicit\" ? true : false,\n\t\tgenre: track.primaryGenreName,\n\t\tnumberinalbum: track.trackNumber,\n\t\tcdinalbum: track.discNumber,\n\t\ttracks: track.trackCount,\n\t\tcdcount: track.discCount,\n\t\tpreview: track.previewUrl,\n\t\trelease: track.releaseDate\n\t};\n    return song;\n}"]],"start1":1166,"start2":1166,"length1":8,"length2":600}]],"length":1766,"saved":false}
